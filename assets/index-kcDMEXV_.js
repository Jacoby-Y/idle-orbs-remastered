var Un=Object.defineProperty;var Dn=(e,t,n)=>t in e?Un(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var lt=(e,t,n)=>(Dn(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();const Tn=e=>Math.round(e*10)/10;function He(e,t=1){const n=Math.pow(10,t);return Math.floor(e*n)/n}const Vn=["","K","M","B","T","Qa","Qi","Sx","Sp","O","N","D","UD","DD","TD","QuD","QiD","SxD","SpD","OD","ND","V","UV","DV","TV","QaV","QiV","SxV","SpV","OV","NV","T","UT","DT","TT","QaT","QiT","SxT","SpT","OT","NT"];function Rn(e,t=1){if(e<1e3)return He(e,t).toString();const n=Math.floor(Math.log10(e)/3),s=Vn[n];return He(e/10**(n*3),t)+(s??"")}function Wn(e){const t=Math.floor(e);return t+(Math.random()<=e-t?1:0)}function qn(e,t){return Math.floor(Math.random()*(t-e)+e)}function zn(e){return e[qn(0,e.length)]}function Gn(e){const t=e.map(([l,r])=>r).reduce((l,r)=>l+r),n=Math.random()*t;let s=0;for(let l=0;l<e.length;l++){const[r,i]=e[l];if(!(i<=0)&&(s+=i,n<=s))return r}throw`Unexpected state in <randomWeight()>: Total(${t}), Rand(${n}), Progress(${s})`}function Qn(e,t){const n=t.x-e.x,s=t.y-e.y;return Math.sqrt(n*n+s*s)}function fn(e,t){return Math.sqrt(e*e+t*t)}function hn(e,t,n,s,l,r){return e>=n&&t>=s&&e<=n+l&&t<=s+r}window.log=console.log;Number.prototype.fmt=function(e,t){return Rn(this.valueOf(),e)};Number.prototype.isNum=function(){return!isNaN(this.valueOf())};Number.prototype.toPerc=function(){return Tn(this.valueOf()*100)};String.prototype.toTitle=function(){return this.valueOf().split(" ").map(e=>e[0].toUpperCase()+e.slice(1).toLowerCase()).join(" ")};String.prototype.isNum=function(){return!isNaN(parseFloat(this.valueOf()))};Array.prototype.randomItem=function(){return zn(this)};Array.prototype.remove=function(e){const t=this.findIndex(n=>n==e);return t<0?null:this.splice(t,1)[0]};Set.prototype.popRandom=function(){const e=[...this].randomItem();return this.delete(e),e};Object.prototype.mapEntries=function(e){return Object.fromEntries(Object.entries(this).map(([t,n])=>e(t,n)))};Object.prototype.eachEntries=function(e){Object.entries(this).forEach(([t,n])=>e(t,n))};function C(){}function dn(e){return e()}function xt(){return Object.create(null)}function oe(e){e.forEach(dn)}function pt(e){return typeof e=="function"}function I(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let De;function Nt(e,t){return e===t?!0:(De||(De=document.createElement("a")),De.href=t,e===De.href)}function Hn(e){return Object.keys(e).length===0}function gt(e,...t){if(e==null){for(const s of t)s(void 0);return C}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function de(e){let t;return gt(e,n=>t=n)(),t}function B(e,t,n){e.$$.on_destroy.push(gt(t,n))}function Jn(e,t,n){return e.set(n),t}function u(e,t){e.appendChild(t)}function b(e,t,n){e.insertBefore(t,n||null)}function g(e){e.parentNode&&e.parentNode.removeChild(e)}function $e(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function _(e){return document.createElement(e)}function y(e){return document.createTextNode(e)}function $(){return y(" ")}function je(){return y("")}function z(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Kn(e){return e===""?null:+e}function Xn(e){return Array.from(e.childNodes)}function Z(e,t){t=""+t,e.data!==t&&(e.data=t)}function Ft(e,t){e.value=t??""}function Se(e,t,n,s){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function A(e,t,n){e.classList.toggle(t,!!n)}function Je(e,t){return new e(t)}let xe;function Me(e){xe=e}function Yn(){if(!xe)throw new Error("Function called outside component initialization");return xe}function _n(e){Yn().$$.on_mount.push(e)}const ge=[],ve=[];let be=[];const ct=[],Zn=Promise.resolve();let ot=!1;function es(){ot||(ot=!0,Zn.then(pn))}function at(e){be.push(e)}function mn(e){ct.push(e)}const rt=new Set;let me=0;function pn(){if(me!==0)return;const e=xe;do{try{for(;me<ge.length;){const t=ge[me];me++,Me(t),ts(t.$$)}}catch(t){throw ge.length=0,me=0,t}for(Me(null),ge.length=0,me=0;ve.length;)ve.pop()();for(let t=0;t<be.length;t+=1){const n=be[t];rt.has(n)||(rt.add(n),n())}be.length=0}while(ge.length);for(;ct.length;)ct.pop()();ot=!1,rt.clear(),Me(e)}function ts(e){if(e.fragment!==null){e.update(),oe(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(at)}}function ns(e){const t=[],n=[];be.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),be=t}const qe=new Set;let fe;function gn(){fe={r:0,c:[],p:fe}}function bn(){fe.r||oe(fe.c),fe=fe.p}function H(e,t){e&&e.i&&(qe.delete(e),e.i(t))}function X(e,t,n,s){if(e&&e.o){if(qe.has(e))return;qe.add(e),fe.c.push(()=>{qe.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}function G(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function vn(e,t,n){const s=e.$$.props[t];s!==void 0&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function Y(e){e&&e.c()}function J(e,t,n){const{fragment:s,after_update:l}=e.$$;s&&s.m(t,n),at(()=>{const r=e.$$.on_mount.map(dn).filter(pt);e.$$.on_destroy?e.$$.on_destroy.push(...r):oe(r),e.$$.on_mount=[]}),l.forEach(at)}function K(e,t){const n=e.$$;n.fragment!==null&&(ns(n.after_update),oe(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ss(e,t){e.$$.dirty[0]===-1&&(ge.push(e),es(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function V(e,t,n,s,l,r,i=null,c=[-1]){const a=xe;Me(e);const o=e.$$={fragment:null,ctx:[],props:r,update:C,not_equal:l,bound:xt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:xt(),dirty:c,skip_bound:!1,root:t.target||a.$$.root};i&&i(o.root);let f=!1;if(o.ctx=n?n(e,t.props||{},(h,p,...k)=>{const m=k.length?k[0]:p;return o.ctx&&l(o.ctx[h],o.ctx[h]=m)&&(!o.skip_bound&&o.bound[h]&&o.bound[h](m),f&&ss(e,h)),p}):[],o.update(),f=!0,oe(o.before_update),o.fragment=s?s(o.ctx):!1,t.target){if(t.hydrate){const h=Xn(t.target);o.fragment&&o.fragment.l(h),h.forEach(g)}else o.fragment&&o.fragment.c();t.intro&&H(e.$$.fragment),J(e,t.target,t.anchor),pn()}Me(a)}class R{constructor(){lt(this,"$$");lt(this,"$$set")}$destroy(){K(this,1),this.$destroy=C}$on(t,n){if(!pt(n))return C;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(t){this.$$set&&!Hn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ls="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ls);const Q={listeners:{},case_listeners:{},listen(e,t){return Array.isArray(this.listeners[e])||(this.listeners[e]=[]),this.listeners[e].push(t),function(){var n;(n=Q.listeners[e])==null||n.splice(Q.listeners[e].indexOf(t))}},listenFor(e,t,n){return this.case_listeners[e]==null&&(this.case_listeners[e]={}),this.case_listeners[e][t]==null&&(this.case_listeners[e][t]=[]),this.case_listeners[e][t].push(n),function(){var s;(s=Q.case_listeners[e][t])==null||s.splice(Q.case_listeners[e][t].indexOf(n)),Q.case_listeners[e][t].length==0&&delete Q.case_listeners[e][t]}},emit(e,t=null){var l;const n=this.listeners[e],s=this.case_listeners[e];if(n!=null)for(let r=0;r<n.length;r++){const i=s==null?void 0:s[t];if(i!=null){let c=!1;for(let a=0;a<i.length;a++)i[a]()===!0&&(c=!0);if(c)continue}(l=n[r])==null||l.call(n,t)}}};let F,T,j={w:0,h:0,center:{x:0,y:0}},At=!0,le=e=>(e!=null&&(At=e),(At&&F)??!1),N=1,rs="#263238",ze=0,Ge=0;function is(e){if(e==null){cs();return}T=e,F=e.getContext("2d"),F.lineCap="round",ze=T.width,Ge=T.height,j.w=ze,j.h=Ge,j.center.x=ze/2,j.center.y=Ge/2,wn(),Q.emit("SetCanvas",T)}function cs(e=!1){e&&(T==null||T.parentElement.removeChild(T)),F=null,T=null}function wn(e=N){N=e,T.width=ze*e,T.height=Ge*e,Q.emit("SetScale",N)}function os(){return T!=null}function bt(e,t,n,s,l=!0){n<0&&(n=0),le()&&(vt(s),l&&F.beginPath(),F.arc(e*N,t*N,n*N,0,Math.PI*2),l&&F.fill())}function $n(e,t,n,s,l,r=!0,i=Math.PI*2){n<0&&(n=0),le()&&(yn(s,l*N),r&&F.beginPath(),F.arc(e*N,t*N,n*N,0,i),r&&F.stroke())}function Ce(e,t,n,s,l){le()&&(vt(l),F.fillRect(e*N,t*N,n*N,s*N))}function as(e,t,n,s,l,r){le()&&(yn(l,r),F.strokeRect(e*N,t*N,n*N,s*N))}function us(e=!1){le()&&(e?F.clearRect(0,0,j.w,j.h):Ce(0,0,j.w,j.h,rs))}function fs(e,t,n,s="white",l=30,r="Arial",i=!0){if(le()){if(vt(s),hs(`${Math.ceil(l*N)}px ${r}`),i){const c=F.measureText(e).width;t-=c/2}F.fillText(e,t*N,n*N)}}let jt="";function vt(e){le()&&jt!=e&&(jt=e,F.fillStyle=e)}let Bt="",It=2;function yn(e,t){le()&&(Bt!=e&&(Bt=e,F.strokeStyle=e),It!=t&&(It=t,F.lineWidth=t))}function hs(e){le()&&F.font!=e&&(F.font=e)}const kn={all_jobs:[],add(e,t){this.all_jobs.push({wait_time:e,callback:t})},runJobs(e){for(let t=this.all_jobs.length-1;t>=0;t--){const n=this.all_jobs[t];if(n.wait_time-=e,n.wait_time<=0){const s=n.callback();typeof s=="number"?n.wait_time=s:this.all_jobs.splice(t,1)}}}},Sn={funcs:[],add(...e){this.funcs.push(...e)},run(){for(let e=0;e<this.funcs.length;e++){const t=this.funcs[e];t==null||t()}}};let Te=-1;const Ve=[...Array(60)].fill(0);let Re=0,Mn=0,ut=0;function Cn(e=performance.now()){Te<0&&(Te=e);let t=e-Te;Te=e,ut=t,Sn.run(),Ve[Re]=t,Re=(Re+1)%Ve.length,Re==0&&(Mn=Math.round(1e3/(Ve.reduce((n,s)=>n+s)/Ve.length))),kn.runJobs(ut),requestAnimationFrame(Cn)}function ds(){os()||console.warn("startGame() is running when the canvas isn't set yet!"),Cn()}const ie={get fps(){return Mn},get delta(){return ut}},pe=[];function _s(e,t){return{subscribe:ee(e,t).subscribe}}function ee(e,t=C){let n;const s=new Set;function l(c){if(I(e,c)&&(e=c,n)){const a=!pe.length;for(const o of s)o[1](),pe.push(o,e);if(a){for(let o=0;o<pe.length;o+=2)pe[o][0](pe[o+1]);pe.length=0}}}function r(c){l(c(e))}function i(c,a=C){const o=[c,a];return s.add(o),s.size===1&&(n=t(l,r)||C),c(e),()=>{s.delete(o),s.size===0&&n&&(n(),n=null)}}return{set:l,update:r,subscribe:i}}function Be(e,t,n){const s=!Array.isArray(e),l=s?[e]:e;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=t.length<2;return _s(n,(i,c)=>{let a=!1;const o=[];let f=0,h=C;const p=()=>{if(f)return;h();const m=t(s?o[0]:o,i,c);r?i(m):h=pt(m)?m:C},k=l.map((m,w)=>gt(m,E=>{o[w]=E,f&=~(1<<w),a&&p()},()=>{f|=1<<w}));return a=!0,p(),function(){oe(k),h(),a=!1}})}let Ne={x:0,y:0};const ft=ee(Ne);ft.subscribe(e=>{Ne.x=(e==null?void 0:e.x)||0,Ne.y=(e==null?void 0:e.y)||0});const On=ee(60);kn.add(1e3,()=>(On.set(ie.fps),1e3));var x=(e=>(e.Basic="Basic",e.Light="Light",e.Spawner="Spawner",e.Sniper="Sniper",e.Gold="Gold",e.Mana="Mana",e.Turret="Turret",e.Overcharge="Overcharge",e.Spark="Spark",e.Chaos="Chaos",e))(x||{});const he={Basic:{name:"Basic",desc:"Just your basic orb... I guess",color:"#E0E0E0",base_value:1},Light:{name:"Light",desc:"A fast moving, low mass alternative to the Basic Orb",color:"#4DD0E1",speed_mult:1.3,base_value:1},Spawner:{name:"Spawner",desc:"A special Orb that spawns smaller versions of itself when it gets collected",color:"#FFB74D",base_value:.8,onCollect(e,t){if(e.mini)return;const n=fn(e.vx,e.vy);for(let s=0;s<3;s++){const l=Math.PI/2*t-Math.PI/2+(Math.random()*.6-.3),r=An("Spawner",!0);r.x=e.x,r.y=e.y,r.vx=Math.cos(l)*n,r.vy=Math.sin(l)*n,r.mini=!0,r.x+=r.vx*ie.delta,r.y+=r.vy*ie.delta}}},Sniper:{name:"Sniper",desc:"A tactical Orb that shoots at the mouse when spawned",color:"#AED581",speed_mult:2,onSpawn(e){const t=Math.atan2(Ne.y-e.y,Ne.x-T.getBoundingClientRect().x/window.scale-e.x)+(Math.random()*.1-.05);e.vx=Math.cos(t),e.vy=Math.sin(t)},base_value:.5},Gold:{name:"Gold",desc:"Very high value orb",color:"#FFEA00",base_value:3},Mana:{name:"Mana",desc:"Has a chance to give you mana upon getting collected",color:"#1DE9B6",base_value:1},Turret:{name:"Turret",desc:"Situates itself after being spawned and start shooting down other Orbs",color:"#B0BEC5",base_value:1},Overcharge:{name:"Overcharge",desc:"Upon collecting, shocks nearby Orbs, transforming them into sparks",color:"#536DFE",base_value:1},Spark:{name:"Spark",desc:"Just a lil guy",color:"#8C9EFF",base_value:.5},Chaos:{name:"Chaos",desc:"Spits out wisps of Chaos Fire",color:"#F44336",base_value:1}},ms=.7,ae=10,ne={x:1920/3,y:1080/2},ue=180,ps="#212121",gs="#76FF03";function bs(){bt(ne.x,ne.y,ue,ps),$n(ne.x,ne.y,ue,gs,6)}function vs(e){return hn(e.x,e.y,ne.x-ue-ae,ne.y-ue-ae,ue*2+ae*2,ue*2+ae*2)?Qn(e,ne)<ue+ae:!1}function ws(e){if(!vs(e))return;const t=(Math.atan2(e.y-ne.y,e.x-ne.x)+Math.PI*2)%(Math.PI*2);(Math.atan2(e.vy,e.vx)+Math.PI*3)%(Math.PI*2);const n=fn(e.vx,e.vy);e.vx=Math.cos(t)*n,e.vy=Math.sin(t)*n,e.x+=e.vx*ie.delta,e.y+=e.vy*ie.delta}const ht={x:50,y:50},$s="#9E9E9E",ys=20,Ke=[{x:0,y:880,w:300,h:200,color:"#AFB42B",mult:1},{x:1920*.666-300,y:0,w:300,h:200,color:"#689F38",mult:2},{x:1920*.666-300,y:880,w:300,h:200,color:"#388E3C",mult:3}];function ks(){Cs()}function Ss(e){for(let t=0;t<Ke.length;t++){const{x:n,y:s,w:l,h:r,mult:i}=Ke[t];if(hn(e.x,e.y,n,s,l,r)){const c=Math.abs(e.y-s),a=Math.abs(e.y-(s+r)),o=Math.abs(e.x-n),f=Math.abs(e.x-(n+l)),h=Math.min(c,a,o,f);return[i,[c,f,a,o].indexOf(h)]}}return[0,-1]}function Ms(e){e.x<j.center.x&&e.y>j.center.y&&(e.vx-=.005,e.vy+=.005),e.x>j.center.x&&e.y<j.center.y&&(e.vx+=.005,e.vy-=.005),e.x>j.center.x&&e.y>j.center.y&&(e.vx+=.005,e.vy+=.005)}function Cs(){for(let e=0;e<Ke.length;e++){const{x:t,y:n,w:s,h:l,color:r,mult:i}=Ke[e];Ce(t,n,s,l,r),as(t-10,n-10,s+20,l+20,r,2),fs(`x${i}`,t+s/2,n+l/2+15,"#FFFFFF",50)}}const Os="modulepreload",Es=function(e){return"/"+e},Lt={},Ps=function(t,n,s){let l=Promise.resolve();if(n&&n.length>0){const r=document.getElementsByTagName("link");l=Promise.all(n.map(i=>{if(i=Es(i),i in Lt)return;Lt[i]=!0;const c=i.endsWith(".css"),a=c?'[rel="stylesheet"]':"";if(!!s)for(let h=r.length-1;h>=0;h--){const p=r[h];if(p.href===i&&(!c||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Os,c||(f.as="script",f.crossOrigin=""),f.href=i,document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${i}`)))})}))}return l.then(()=>t()).catch(r=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=r,window.dispatchEvent(i),!i.defaultPrevented)throw r})};let D=null,tt={orb_value:0,idle_speed:0,burst_chance:0,burst_amount:0,new_orb:0};const ce=ee(tt);ce.subscribe(e=>tt=e);const Ut=["orb_value","idle_speed","burst_chance","burst_amount","new_orb"],Xe={orb_value:{desc:"Increases the value multiplier of all Orbs",init_stat_change:1,stat_change:.2,get name(){return"Orb Value: +20%"},get hint(){return`[${Math.round((D==null?void 0:D.orb_value)*100-100).fmt(1)}%]`},init_cost:250,mult:1.2},idle_speed:{desc:"Idley spawn Orbs at half value",init_stat_change:0,stat_change:.5,get name(){return"Idle Spawning: +0.5/sec"},get hint(){return`[${D==null?void 0:D.idle_speed.fmt(1)}/sec]`},init_cost:500,mult:1.2},burst_chance:{desc:"Increase chance to spawn a burst of Orbs",init_stat_change:0,stat_change:.01,get name(){return"Burst Chance: +1%"},get hint(){return`[${D==null?void 0:D.burst_chance.toPerc().fmt(1)}%]`},init_cost:500,mult:2},burst_amount:{desc:"Increase burst amount",init_stat_change:2,stat_change:1,get name(){return"Burst Amount: +1"},get hint(){return`[${D==null?void 0:D.burst_amount.fmt(0)}]`},init_cost:1e3,mult:10},new_orb:{desc:"Unlock a new Orb for you to upgrade and spawn",get name(){return"Unlock New Orb"},get hint(){return`[${tt.new_orb+1}]`},init_cost:5e3,mult:10,max_level:3}};Object.entries(Xe).forEach(([e,t])=>{Object.defineProperty(t,"cost",{get(){return this.init_cost*this.mult**tt[e]}})});Ps(()=>Promise.resolve().then(()=>As),void 0).then(({stats:e})=>{e.subscribe(t=>D=t),ce.update(t=>t)});let Ye={[x.Basic]:{weight:0,value:0},[x.Light]:{weight:0,value:0},[x.Spawner]:{weight:0,value:0},[x.Sniper]:{weight:0,value:0}};const nt=ee(Ye);nt.subscribe(e=>Ye=e);const Fe=[x.Basic,x.Light,x.Spawner,x.Sniper],xs=Be(ce,({new_orb:e})=>new Set([x.Basic,e>=1?x.Light:null,e>=2?x.Spawner:null,e>=3?x.Sniper:null].filter(t=>t!=null))),wt={[x.Basic]:{...re(x.Basic,"value",{init_cost:100,mult:1.2,init_stat:1,stat_change_per_level:1}),...re(x.Basic,"weight",{init_cost:100,mult:1.2,init_stat:.5,stat_change_per_level:.1})},[x.Light]:{...re(x.Light,"value",{init_cost:100,mult:1.2,init_stat:1,stat_change_per_level:1}),...re(x.Light,"weight",{init_cost:100,mult:1.2,init_stat:0,stat_change_per_level:.1})},[x.Spawner]:{...re(x.Spawner,"value",{init_cost:100,mult:1.2,init_stat:1,stat_change_per_level:1}),...re(x.Spawner,"weight",{init_cost:100,mult:1.2,init_stat:0,stat_change_per_level:.1})},[x.Sniper]:{...re(x.Sniper,"value",{init_cost:100,mult:1.2,init_stat:1,stat_change_per_level:1}),...re(x.Sniper,"weight",{init_cost:100,mult:1.2,init_stat:0,stat_change_per_level:.1})}},dt=Fe.map(e=>wt[e]);function Ns(e){const[t,n]=Ze(wt[e].weight),s=En(),l=n/s,r=isFinite(l)?l:0;return[t,r]}function Fs(){const e=En()>0?Gn(dt.map((t,n)=>[Fe[n],Ze(t.weight)[1]])):null;return dt.map((t,n)=>{const[s,l]=Ze(t.weight),r=Fe[n];return[r,s+(e==r?1:0)]}).filter(([t,n])=>n>0)}function Ze(e){const t=e.stat_change;return[Math.floor(t),t%(e.stat_upgrade??1)]}function re(e,t,n){return{[t]:{...n,get cost(){return this.init_cost*this.mult**Ye[e][t]},get stat_change(){return this.init_stat+this.stat_change_per_level*Ye[e][t]},levelUp(){nt.update(s=>(s[e][t]++,s))}}}}function En(){return dt.reduce((e,t)=>e+Ze(t.weight)[1],0)}let $t={orb_value:0,starting_cash:0};const Ae=ee($t);Ae.subscribe(e=>$t=e);const Dt=["orb_value","starting_cash"],et={orb_value:{init_stat_change:0,stat_change:.2,name:"Orb Value: +20%",get hint(){return`[${Math.round((W==null?void 0:W.orb_value)*100-100).fmt(1)}%]`},desc:"Increases Orb value",init_cost:10,mult:1.2,cost:0},starting_cash:{init_stat_change:0,stat_change:100,name:"Starting Cash: +100",get hint(){return`[$${W==null?void 0:W.starting_cash.fmt(1)}]`},desc:"Increases cash you start with after prestiging",init_cost:5,mult:1,cost:0}};Object.entries(et).forEach(([e,t])=>{Object.defineProperty(t,"cost",{get(){return Math.round(this.init_cost*this.mult**$t[e])}})});const Ie=Be([ce,Ae],([e,t])=>({orb_value:We("orb_value")+Tt("orb_value"),idle_speed:We("idle_speed"),burst_chance:We("burst_chance"),burst_amount:We("burst_amount"),starting_cash:Tt("starting_cash")}));let W=de(Ie);Ie.subscribe(e=>W=e);function We(e){return Xe[e].init_stat_change+Xe[e].stat_change*de(ce)[e]}function Tt(e){return et[e].init_stat_change+et[e].stat_change*de(Ae)[e]}const As=Object.freeze(Object.defineProperty({__proto__:null,get $stats(){return W},stats:Ie},Symbol.toStringTag,{value:"Module"}));let Pn={total_cash_made:0,total_mana_made:0,prestige_count:0,manual_orbs_spawned:0,idle_orbs_spawned:0,secret:0};const se=ee(Pn);se.subscribe(e=>Pn=e);function xn(e,t){se.update(n=>(n[e]+=t,n))}const _t=1e15;let te=0;const U=ee(0);U.subscribe(e=>{if(e<0)return te=0,U.set(0);if(e==0)return 0;if(e>_t){te=0,U.set(_t);return}Math.floor(e)!=e&&(te+=e-Math.floor(e),te>=1&&(e+=Math.floor(te),te-=Math.floor(te)),U.set(Math.floor(e)))});const js=Be(U,e=>e<1e3?(e+He(te,2)).fmt(1):e.fmt()+(e>=_t?" (Max)":""));function Bs(e){if(isNaN(e))throw"Can't add to cash, value is NaN!";U.update(t=>t+e),xn("total_cash_made",e)}function yt(e){U.update(t=>t-e)}function we(){return de(U)}const ye=ee(0),Is=Be(ye,e=>e<1e3?e+He(te,2):e.fmt());function Ls(e){if(isNaN(e))throw"Can't add to mana, value is NaN!";ye.update(t=>t+e),xn("total_mana_made",e)}function Nn(e){ye.update(t=>t-e)}function Us(){return de(ye)}window.onkeydown=({key:e})=>{};var q=(e=>(e.Circle="Circle",e.Wireframe="Wireframe",e.Square="Square",e.Pixelated="Pixelated",e.Sand="Sand",e.None="None",e))(q||{});let kt={render_mode:"Circle",scale:1};const Qe=ee(kt);Qe.subscribe(e=>kt=e);let Oe=[];function Ds(){for(let e=0;e<Oe.length;e++){const t=Oe[e];ws(t),Ms(t),Vs(t),Rs(t);const[n,s]=Ss(t);n!=0&&(Ws(t,n,s),Oe.splice(e,1),e--)}}let Vt=0;const Ts=100;function Fn(e=!1){if(performance.now()-Vt<Ts)return;Vt=performance.now();const t=Fs(),n=Wn(W.burst_chance)*W.burst_amount;for(let s=0;s<t.length;s++){const[l,r]=t[s];for(let i=0;i<r+n;i++)An(l,e)}}function An(e,t=!1){var r,i;t?se.update(c=>(c.idle_orbs_spawned++,c)):se.update(c=>(c.manual_orbs_spawned++,c));const n=ms+(Math.random()*.8-.4),s=(he[e].speed_mult??1)*(1+Math.random()*.1)*.5,l={...ht,vx:Math.cos(n)*s,vy:Math.sin(n)*s,mini:t,type:e};return Oe.push(l),(i=(r=he[l.type]).onSpawn)==null||i.call(r,l),l}function Vs(e){const t=ae/(e.mini?2:1),n=t*2,{x:s,y:l}=e,r=he[e.type].color;switch(kt.render_mode){case q.Circle:bt(s,l,t,r);break;case q.Wireframe:$n(s,l,t,r,2);break;case q.Square:Ce(s-t,l-t,n,n,r);break;case q.Pixelated:Ce(Math.floor((s-t)/n)*n,Math.floor((l-t)/n)*n,n,n,r);break;case q.Sand:Ce(s-2,l-2,4,4,r);break}}function Rs(e){e.x+=e.vx*(ie.delta/1),e.y+=e.vy*(ie.delta/1);let t=ae/(e.mini?2:1);e.x<t?(e.x=t,e.vx*=-1):e.x>j.w-t&&(e.x=j.w-t,e.vx*=-1),e.y<t?(e.y=t,e.vy*=-1):e.y>j.h-t&&(e.y=j.h-t,e.vy*=-1)}function Ws(e,t,n){var l,r;(r=(l=he[e.type]).onCollect)==null||r.call(l,e,n);const s=qs(e.type)*t/(e.mini?2:1);Bs(s)}function qs(e){return he[e].base_value*W.orb_value}function zs(){Oe=[]}let Rt=performance.now();Q.listen("ClickCanvas",()=>{performance.now()-Rt<100||(Rt=performance.now(),Fn())});function Gs(){bt(ht.x,ht.y,ys,$s)}let St=0;Ie.subscribe(e=>St=e.idle_speed);let it=0;const Qs=()=>1e3/St;function Hs(){St<=0||(it-=ie.delta,it<=0&&(it=Qs(),Fn(!0)))}function Js(){Sn.add(()=>{us(),Ds(),bs(),Gs(),ks(),Hs()}),ds()}function Ks(e){let t,n,s,l;return{c(){t=_("main"),n=_("canvas"),d(n,"class","svelte-upni24"),d(t,"class","svelte-upni24")},m(r,i){b(r,t,i),u(t,n),e[2](n),s||(l=z(n,"mousedown",e[1]),s=!0)},p:C,i:C,o:C,d(r){r&&g(t),e[2](null),s=!1,l()}}}function Xs(e,t,n){let s;_n(()=>{s.getContext("2d"),n(0,s.width=1920*(1/3*2),s),n(0,s.height=1080,s),is(s),Js()});function l(){Q.emit("ClickCanvas")}Q.listen("SetScale",i=>{n(0,s.style.scale=`${1/i}`.slice(0,5),s)});function r(i){ve[i?"unshift":"push"](()=>{s=i,n(0,s)})}return[s,l,r]}class Ys extends R{constructor(t){super(),V(this,t,Xs,Ks,I,{})}}function Zs(e){let t,n,s,l,r,i,c,a=e[1].orb_value.fmt(1)+"",o;return{c(){t=_("main"),n=_("h3"),s=y("FPS: "),l=y(e[0]),r=$(),i=_("h3"),c=y("Orb Value: x"),o=y(a),d(n,"class","svelte-k6jdkk"),d(i,"class","svelte-k6jdkk"),d(t,"class","svelte-k6jdkk")},m(f,h){b(f,t,h),u(t,n),u(n,s),u(n,l),u(t,r),u(t,i),u(i,c),u(i,o)},p(f,[h]){h&1&&Z(l,f[0]),h&2&&a!==(a=f[1].orb_value.fmt(1)+"")&&Z(o,a)},i:C,o:C,d(f){f&&g(t)}}}function el(e,t,n){let s,l;return B(e,On,r=>n(0,s=r)),B(e,Ie,r=>n(1,l=r)),[s,l]}class tl extends R{constructor(t){super(),V(this,t,el,Zs,I,{})}}function Wt(e,t,n){const s=e.slice();return s[6]=t[n],s}function qt(e){let t,n,s,l,r,i,c,a;return{c(){t=_("div"),n=_("h3"),s=y("$"),l=y(e[3]),r=$(),i=_("h3"),c=y("₪"),a=y(e[4]),d(n,"class","cash"),d(i,"class","mana"),d(t,"class","currencies svelte-4ubgk6")},m(o,f){b(o,t,f),u(t,n),u(n,s),u(n,l),u(t,r),u(t,i),u(i,c),u(i,a)},p(o,f){f&8&&Z(l,o[3]),f&16&&Z(a,o[4])},d(o){o&&g(t)}}}function zt(e){let t,n=e[6]+"",s,l,r;function i(){return e[5](e[6])}return{c(){t=_("h3"),s=y(n),d(t,"class","svelte-4ubgk6"),A(t,"selected",e[0]==e[6])},m(c,a){b(c,t,a),u(t,s),l||(r=z(t,"click",i),l=!0)},p(c,a){e=c,a&2&&n!==(n=e[6]+"")&&Z(s,n),a&3&&A(t,"selected",e[0]==e[6])},d(c){c&&g(t),l=!1,r()}}}function nl(e){let t,n,s,l=e[2]&&qt(e),r=G(e[1]),i=[];for(let c=0;c<r.length;c+=1)i[c]=zt(Wt(e,r,c));return{c(){t=_("main"),l&&l.c(),n=$(),s=_("nav");for(let c=0;c<i.length;c+=1)i[c].c();d(s,"class","svelte-4ubgk6")},m(c,a){b(c,t,a),l&&l.m(t,null),u(t,n),u(t,s);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(s,null)},p(c,[a]){if(c[2]?l?l.p(c,a):(l=qt(c),l.c(),l.m(t,n)):l&&(l.d(1),l=null),a&3){r=G(c[1]);let o;for(o=0;o<r.length;o+=1){const f=Wt(c,r,o);i[o]?i[o].p(f,a):(i[o]=zt(f),i[o].c(),i[o].m(s,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:C,o:C,d(c){c&&g(t),l&&l.d(),$e(i,c)}}}function sl(e,t,n){let s,l;B(e,js,o=>n(3,s=o)),B(e,Is,o=>n(4,l=o));let{tabs:r}=t,{chosen_tab:i}=t,{show_currencies:c=!0}=t;const a=o=>{n(0,i=o)};return e.$$set=o=>{"tabs"in o&&n(1,r=o.tabs),"chosen_tab"in o&&n(0,i=o.chosen_tab),"show_currencies"in o&&n(2,c=o.show_currencies)},[i,r,c,s,l,a]}class jn extends R{constructor(t){super(),V(this,t,sl,nl,I,{tabs:1,chosen_tab:0,show_currencies:2})}}function Gt(e,t,n){const s=e.slice();return s[4]=t[n],s}function Qt(e){let t,n,s;function l(){return e[2](e[4])}return{c(){t=_("button"),t.textContent=`${e[4]} `,d(t,"class","svelte-7xepsn"),A(t,"selected",e[0].render_mode==e[4])},m(r,i){b(r,t,i),n||(s=z(t,"click",l),n=!0)},p(r,i){e=r,i&3&&A(t,"selected",e[0].render_mode==e[4])},d(r){r&&g(t),n=!1,s()}}}function ll(e){let t,n,s,l,r,i,c,a,o,f=Math.round(e[0].scale*1080)+"",h,p,k,m,w,E,S=G(e[1]),P=[];for(let O=0;O<S.length;O+=1)P[O]=Qt(Gt(e,S,O));return{c(){t=_("main"),n=_("div"),s=_("h2"),s.textContent="Render Mode",l=$(),r=_("div");for(let O=0;O<P.length;O+=1)P[O].c();i=$(),c=_("div"),a=_("h2"),o=y("Resolution: "),h=y(f),p=y("p"),k=$(),m=_("input"),d(s,"class","item-name svelte-7xepsn"),d(r,"class","btn-group svelte-7xepsn"),d(n,"class","settings-item svelte-7xepsn"),d(a,"class","item-name svelte-7xepsn"),d(m,"type","range"),d(m,"min","0.1"),d(m,"max","1"),d(m,"step","0.1"),d(m,"class","svelte-7xepsn"),d(c,"class","settings-item svelte-7xepsn"),d(t,"class","svelte-7xepsn")},m(O,M){b(O,t,M),u(t,n),u(n,s),u(n,l),u(n,r);for(let v=0;v<P.length;v+=1)P[v]&&P[v].m(r,null);u(t,i),u(t,c),u(c,a),u(a,o),u(a,h),u(a,p),u(c,k),u(c,m),Ft(m,e[0].scale),w||(E=[z(m,"change",e[3]),z(m,"input",e[3])],w=!0)},p(O,[M]){if(M&3){S=G(O[1]);let v;for(v=0;v<S.length;v+=1){const L=Gt(O,S,v);P[v]?P[v].p(L,M):(P[v]=Qt(L),P[v].c(),P[v].m(r,null))}for(;v<P.length;v+=1)P[v].d(1);P.length=S.length}M&1&&f!==(f=Math.round(O[0].scale*1080)+"")&&Z(h,f),M&1&&Ft(m,O[0].scale)},i:C,o:C,d(O){O&&g(t),$e(P,O),w=!1,oe(E)}}}function rl(e,t,n){let s;B(e,Qe,c=>n(0,s=c));const l=[q.Circle,q.Wireframe,q.Square,q.Pixelated,q.Sand,q.None],r=c=>Jn(Qe,s.render_mode=c,s);function i(){s.scale=Kn(this.value),Qe.set(s)}return e.$$.update=()=>{e.$$.dirty&1&&wn(s.scale)},[s,l,r,i]}class il extends R{constructor(t){super(),V(this,t,rl,ll,I,{})}}const Ht=[{tracker_id:"total_cash_made",title:"Cash made",goal:1e9},{tracker_id:"total_mana_made",title:"Mana made",goal:1e4},{tracker_id:"manual_orbs_spawned",title:"Manually spawned Orbs",goal:1e3},{tracker_id:"idle_orbs_spawned",title:"Idly spawned Orbs",goal:1e4}];function Jt(e,t,n){const s=e.slice();s[1]=t[n].tracker_id,s[2]=t[n].goal,s[3]=t[n].title;const l=s[0][s[1]];s[4]=l;const r=Math.min(1,s[4]/s[2]).toPerc();s[5]=r;const i=s[4]>=s[2];return s[6]=i,s}function Kt(e){let t;return{c(){t=_("i"),t.textContent="(Done!)",Se(t,"padding-left","1rem")},m(n,s){b(n,t,s)},d(n){n&&g(t)}}}function Xt(e){let t,n=e[2].fmt(2,2)+"",s;return{c(){t=y("/ "),s=y(n)},m(l,r){b(l,t,r),b(l,s,r)},d(l){l&&(g(t),g(s))}}}function Yt(e){let t,n,s,l,r,i,c=e[4].fmt(2,2)+"",a,o,f,h,p,k,m=e[6]&&Kt(),w=!e[6]&&Xt(e);return{c(){t=_("div"),n=_("h3"),s=y(e[3]),l=$(),m&&m.c(),r=$(),i=_("b"),a=y(c),o=$(),w&&w.c(),f=$(),h=_("div"),p=_("div"),k=$(),Se(i,"float","right"),d(p,"class","bar svelte-1vd32ye"),Se(p,"width",e[5]+"%"),d(h,"class","bar-wrapper"),d(t,"class","ach svelte-1vd32ye")},m(E,S){b(E,t,S),u(t,n),u(n,s),u(n,l),m&&m.m(n,null),u(n,r),u(n,i),u(i,a),u(i,o),w&&w.m(i,null),u(t,f),u(t,h),u(h,p),u(t,k)},p(E,S){E[6]?m||(m=Kt(),m.c(),m.m(n,r)):m&&(m.d(1),m=null),S&1&&c!==(c=E[4].fmt(2,2)+"")&&Z(a,c),E[6]?w&&(w.d(1),w=null):w||(w=Xt(E),w.c(),w.m(i,null)),S&1&&Se(p,"width",E[5]+"%")},d(E){E&&g(t),m&&m.d(),w&&w.d()}}}function cl(e){let t,n=G(Ht),s=[];for(let l=0;l<n.length;l+=1)s[l]=Yt(Jt(e,n,l));return{c(){t=_("main");for(let l=0;l<s.length;l+=1)s[l].c();d(t,"class","svelte-1vd32ye")},m(l,r){b(l,t,r);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(t,null)},p(l,[r]){if(r&1){n=G(Ht);let i;for(i=0;i<n.length;i+=1){const c=Jt(l,n,i);s[i]?s[i].p(c,r):(s[i]=Yt(c),s[i].c(),s[i].m(t,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},i:C,o:C,d(l){l&&g(t),$e(s,l)}}}function ol(e,t,n){let s;return B(e,se,l=>n(0,s=l)),[s]}class al extends R{constructor(t){super(),V(this,t,ol,cl,I,{})}}function ul(e){let t,n,s,l,r,i;function c(h){e[3](h)}let a={tabs:e[1],show_currencies:!1};e[0]!==void 0&&(a.chosen_tab=e[0]),n=new jn({props:a}),ve.push(()=>vn(n,"chosen_tab",c));var o=e[2][e[0]];function f(h,p){return{}}return o&&(r=Je(o,f())),{c(){t=_("main"),Y(n.$$.fragment),l=$(),r&&Y(r.$$.fragment),d(t,"class","svelte-11c638k")},m(h,p){b(h,t,p),J(n,t,null),u(t,l),r&&J(r,t,null),i=!0},p(h,[p]){const k={};if(!s&&p&1&&(s=!0,k.chosen_tab=h[0],mn(()=>s=!1)),n.$set(k),p&1&&o!==(o=h[2][h[0]])){if(r){gn();const m=r;X(m.$$.fragment,1,0,()=>{K(m,1)}),bn()}o?(r=Je(o,f()),Y(r.$$.fragment),H(r.$$.fragment,1),J(r,t,null)):r=null}},i(h){i||(H(n.$$.fragment,h),r&&H(r.$$.fragment,h),i=!0)},o(h){X(n.$$.fragment,h),r&&X(r.$$.fragment,h),i=!1},d(h){h&&g(t),K(n),r&&K(r)}}}function fl(e,t,n){let s=["Stats","Settings","Achievements"],l=s[0];const r={Stats:tl,Settings:il,Achievements:al};function i(c){l=c,n(0,l)}return[l,s,r,i]}class hl extends R{constructor(t){super(),V(this,t,fl,ul,I,{})}}function Zt(e,t,n){const s=e.slice();s[4]=t[n],s[9]=n;const l=Xe[s[4]];s[5]=l;const r=s[0][s[4]]>=s[5].max_level;s[6]=r;const i=s[1]<s[5].cost;return s[7]=i,s}function en(e){let t;return{c(){t=_("h3"),t.textContent=`$${e[5].cost.fmt(1)}`,d(t,"class","cost"),A(t,"no-afford",e[7])},m(n,s){b(n,t,s)},p(n,s){s&2&&A(t,"no-afford",n[7])},d(n){n&&g(t)}}}function dl(e){let t;return{c(){t=_("hr"),d(t,"class","svelte-1z0hdsv")},m(n,s){b(n,t,s)},d(n){n&&g(t)}}}function tn(e){let t,n,s=e[5].name+"",l,r,i,c,a=(e[6]?"Maxed":e[5].hint)+"",o,f,h,p,k=[1,3].includes(e[9]),m,w,E,S=!e[6]&&en(e);function P(){return e[3](e[5],e[4])}let O=k&&dl();return{c(){t=_("div"),n=_("button"),l=y(s),r=$(),S&&S.c(),i=$(),c=_("h3"),o=y(a),f=$(),h=_("h3"),h.textContent=`${e[5].desc}`,p=$(),O&&O.c(),m=je(),d(c,"class","hint"),d(n,"class","svelte-1z0hdsv"),A(n,"maxed",e[6]),d(h,"class","desc svelte-1z0hdsv"),d(t,"class","button-wrapper svelte-1z0hdsv")},m(M,v){b(M,t,v),u(t,n),u(n,l),u(n,r),S&&S.m(n,null),u(n,i),u(n,c),u(c,o),u(t,f),u(t,h),b(M,p,v),O&&O.m(M,v),b(M,m,v),w||(E=z(n,"click",P),w=!0)},p(M,v){e=M,e[6]?S&&(S.d(1),S=null):S?S.p(e,v):(S=en(e),S.c(),S.m(n,i)),v&1&&a!==(a=(e[6]?"Maxed":e[5].hint)+"")&&Z(o,a),v&1&&A(n,"maxed",e[6])},d(M){M&&(g(t),g(p),g(m)),S&&S.d(),O&&O.d(M),w=!1,E()}}}function nn(e){let t,n=G(Ut),s=[];for(let l=0;l<n.length;l+=1)s[l]=tn(Zt(e,n,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();t=je()},m(l,r){for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(l,r);b(l,t,r)},p(l,r){if(r&7){n=G(Ut);let i;for(i=0;i<n.length;i+=1){const c=Zt(l,n,i);s[i]?s[i].p(c,r):(s[i]=tn(c),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(l){l&&g(t),$e(s,l)}}}function _l(e){let t,n=e[0],s=nn(e);return{c(){t=_("main"),s.c(),d(t,"class","svelte-1z0hdsv")},m(l,r){b(l,t,r),s.m(t,null)},p(l,[r]){r&1&&I(n,n=l[0])?(s.d(1),s=nn(l),s.c(),s.m(t,null)):s.p(l,r)},i:C,o:C,d(l){l&&g(t),s.d(l)}}}function ml(e,t,n){let s,l;B(e,ce,c=>n(0,s=c)),B(e,U,c=>n(1,l=c));function r(c,a){we()<c.cost||s[a]>=c.max_level||(yt(c.cost),ce.update(o=>(o[a]++,o)))}return[s,l,r,(c,a)=>r(c,a)]}class pl extends R{constructor(t){super(),V(this,t,ml,_l,I,{})}}function sn(e,t,n){const s=e.slice();return s[5]=t[n],s}function gl(e){const t=e.slice(),n=wt[t[5]];t[8]=n;const s=Ns(t[5]);return t[9]=s[0],t[10]=s[1],t}function bl(e){let t;return{c(){t=_("div"),t.innerHTML="<h3>???</h3> ",d(t,"class","upgrade-wrapper locked svelte-dwsm9a")},m(n,s){b(n,t,s)},p:C,d(n){n&&g(t)}}}function ln(e){let t,n,s,l,r,i=Math.round(e[10].toPerc())+"",c,a,o,f,h=e[8].value.stat_change.fmt(1)+"",p,k,m,w,E,S,P,O,M,v,L,Mt,Le,Ct,Ue,Ot,st,Et,_e=e[9]>0&&vl(e);function In(){return e[3](e[8])}function Ln(){return e[4](e[8])}return{c(){t=_("div"),n=_("h3"),n.textContent=`${e[5]}`,s=$(),l=_("h3"),_e&&_e.c(),r=$(),c=y(i),a=y(`%
                        `),o=_("br"),f=y(`
                        $`),p=y(h),k=$(),m=_("button"),w=y(`Weight +1
                        `),E=_("h3"),E.textContent=`$${e[8].weight.cost.fmt(1)}`,S=$(),P=_("h3"),P.textContent=`[${(e[8].weight.stat_change*10).fmt(1)}]`,O=$(),M=_("button"),v=y(`Value +1
                        `),L=_("h3"),L.textContent=`$${e[8].value.cost.fmt(1)}`,Mt=$(),Le=_("h3"),Le.textContent="?",Ct=$(),Ue=_("h3"),Ue.textContent=`${he[e[5]].desc}`,Ot=$(),d(n,"class","name svelte-dwsm9a"),Se(n,"color",he[e[5]].color),d(l,"class","stats svelte-dwsm9a"),d(E,"class","cost"),A(E,"no-afford",we()<e[8].weight.cost),d(P,"class","hint"),d(m,"class","svelte-dwsm9a"),d(L,"class","cost"),A(L,"no-afford",we()<e[8].value.cost),d(M,"class","svelte-dwsm9a"),d(Le,"class","hint-icon svelte-dwsm9a"),d(Ue,"class","desc svelte-dwsm9a"),d(t,"class","upgrade-wrapper svelte-dwsm9a")},m(ke,Pt){b(ke,t,Pt),u(t,n),u(t,s),u(t,l),_e&&_e.m(l,null),u(l,r),u(l,c),u(l,a),u(l,o),u(l,f),u(l,p),u(t,k),u(t,m),u(m,w),u(m,E),u(m,S),u(m,P),u(t,O),u(t,M),u(M,v),u(M,L),u(t,Mt),u(t,Le),u(t,Ct),u(t,Ue),u(t,Ot),st||(Et=[z(m,"click",In),z(M,"click",Ln)],st=!0)},p(ke,Pt){e=ke},d(ke){ke&&g(t),_e&&_e.d(),st=!1,oe(Et)}}}function vl(e){let t=e[9].fmt(1)+"",n,s;return{c(){n=y(t),s=y(" +")},m(l,r){b(l,n,r),b(l,s,r)},d(l){l&&(g(n),g(s))}}}function rn(e){let t,n;function s(c,a){return a&2&&(t=null),t==null&&(t=!!c[1].has(c[5])),t?ln:bl}function l(c,a){return a===ln?gl(c):c}let r=s(e,-1),i=r(l(e,r));return{c(){i.c(),n=je()},m(c,a){i.m(c,a),b(c,n,a)},p(c,a){r===(r=s(c,a))&&i?i.p(l(c,r),a):(i.d(1),i=r(l(c,r)),i&&(i.c(),i.m(n.parentNode,n)))},d(c){c&&g(n),i.d(c)}}}function cn(e){let t,n=G(Fe),s=[];for(let l=0;l<n.length;l+=1)s[l]=rn(sn(e,n,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();t=je()},m(l,r){for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(l,r);b(l,t,r)},p(l,r){if(r&6){n=G(Fe);let i;for(i=0;i<n.length;i+=1){const c=sn(l,n,i);s[i]?s[i].p(c,r):(s[i]=rn(c),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(l){l&&g(t),$e(s,l)}}}function wl(e){let t,n=e[0],s=cn(e);return{c(){t=_("main"),s.c(),d(t,"class","svelte-dwsm9a")},m(l,r){b(l,t,r),s.m(t,null)},p(l,[r]){r&1&&I(n,n=l[0])?(s.d(1),s=cn(l),s.c(),s.m(t,null)):s.p(l,r)},i:C,o:C,d(l){l&&g(t),s.d(l)}}}function $l(e,t,n){let s,l;B(e,nt,a=>n(0,s=a)),B(e,xs,a=>n(1,l=a));function r(a){we()<a.cost||(yt(a.cost),a.levelUp())}return[s,l,r,a=>r(a.weight),a=>r(a.value)]}class yl extends R{constructor(t){super(),V(this,t,$l,wl,I,{})}}const Bn=Be(se,({prestige_count:e})=>1e6*1.2**e);function mt(e=we()){return Math.round((e/5e3)**(.7-.05*de(se).prestige_count))}function kl(){we()<de(Bn)||(ce.update(e=>(e.eachEntries(t=>e[t]=0),e)),nt.update(e=>(e.eachEntries(t=>{e[t].value=0,e[t].weight=0}),e)),zs(),Ls(mt()),U.set(-1),U.set(W.starting_cash))}function on(e,t,n){const s=e.slice();s[6]=t[n],s[11]=n;const l=et[s[6]];s[7]=l;const r=!1;s[8]=r;const i=s[3]<s[7].cost;return s[9]=i,s}function Sl(e){let t;return{c(){t=_("h3"),t.textContent=`₪${e[7].cost.fmt(1)}`,d(t,"class","cost mana"),A(t,"no-afford",e[9])},m(n,s){b(n,t,s)},p(n,s){s&8&&A(t,"no-afford",n[9])},d(n){n&&g(t)}}}function an(e){let t,n,s=e[7].name+"",l,r,i,c,a,o,f,h,p,k=!e[8]&&Sl(e);function m(){return e[5](e[7],e[6])}return{c(){t=_("div"),n=_("button"),l=y(s),r=$(),k&&k.c(),i=$(),c=_("h3"),c.textContent=`${e[8]?"Maxed":e[7].hint}`,a=$(),o=_("h3"),o.textContent=`${e[7].desc}`,f=$(),d(c,"class","hint"),d(n,"class","svelte-140ts9l"),A(n,"maxed",e[8]),d(o,"class","desc svelte-140ts9l"),d(t,"class","button-wrapper svelte-140ts9l")},m(w,E){b(w,t,E),u(t,n),u(n,l),u(n,r),k&&k.m(n,null),u(n,i),u(n,c),u(t,a),u(t,o),u(t,f),h||(p=z(n,"click",m),h=!0)},p(w,E){e=w,e[8]||k.p(e,E)},d(w){w&&g(t),k&&k.d(),h=!1,p()}}}function un(e){let t,n=G(Dt),s=[];for(let l=0;l<n.length;l+=1)s[l]=an(on(e,n,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();t=je()},m(l,r){for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(l,r);b(l,t,r)},p(l,r){if(r&24){n=G(Dt);let i;for(i=0;i<n.length;i+=1){const c=on(l,n,i);s[i]?s[i].p(c,r):(s[i]=an(c),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(l){l&&g(t),$e(s,l)}}}function Ml(e){let t,n,s,l,r,i,c=e[2].fmt()+"",a,o,f,h,p=mt(e[1]).fmt()+"",k,m,w,E,S=e[0],P,O,M=un(e);return{c(){t=_("main"),n=_("div"),s=_("button"),l=y(`Prestige

            `),r=_("h3"),i=y("$"),a=y(c),o=$(),f=_("h3"),h=y("+₪"),k=y(p),m=$(),w=_("h3"),w.textContent="Reset game in exchange for Mana",E=$(),M.c(),d(r,"class","cost"),A(r,"no-afford",e[1]<e[2]),d(f,"class","hint"),d(s,"class","svelte-140ts9l"),d(w,"class","desc svelte-140ts9l"),d(n,"class","button-wrapper svelte-140ts9l"),d(t,"class","svelte-140ts9l")},m(v,L){b(v,t,L),u(t,n),u(n,s),u(s,l),u(s,r),u(r,i),u(r,a),u(s,o),u(s,f),u(f,h),u(f,k),u(n,m),u(n,w),u(t,E),M.m(t,null),P||(O=z(s,"click",kl),P=!0)},p(v,[L]){L&4&&c!==(c=v[2].fmt()+"")&&Z(a,c),L&6&&A(r,"no-afford",v[1]<v[2]),L&2&&p!==(p=mt(v[1]).fmt()+"")&&Z(k,p),L&1&&I(S,S=v[0])?(M.d(1),M=un(v),M.c(),M.m(t,null)):M.p(v,L)},i:C,o:C,d(v){v&&g(t),M.d(v),P=!1,O()}}}function Cl(e,t,n){let s,l,r,i;B(e,Ae,o=>n(0,s=o)),B(e,U,o=>n(1,l=o)),B(e,Bn,o=>n(2,r=o)),B(e,ye,o=>n(3,i=o));function c(o,f){Us()<o.cost||s[f]>=o.max_level||(Nn(o.cost),Ae.update(h=>(h[f]++,h)))}return[s,l,r,i,c,(o,f)=>c(o,f)]}class Ol extends R{constructor(t){super(),V(this,t,Cl,Ml,I,{})}}function El(e){let t,n,s,l,r,i,c;return{c(){t=_("button"),n=y(`Unlock Super Top Secret Stuff
            `),s=_("h3"),s.textContent=`$${Ee.fmt()}`,l=$(),r=_("h3"),r.textContent=`₪${Pe.fmt()}`,d(s,"class","cost svelte-1a1ryww"),A(s,"no-afford",e[1]<Ee),d(r,"class","cost mana svelte-1a1ryww"),A(r,"no-afford",e[0]<Pe),d(t,"class","svelte-1a1ryww")},m(a,o){b(a,t,o),u(t,n),u(t,s),u(t,l),u(t,r),i||(c=z(t,"click",e[5]),i=!0)},p(a,o){o&2&&A(s,"no-afford",a[1]<Ee),o&1&&A(r,"no-afford",a[0]<Pe)},d(a){a&&g(t),i=!1,c()}}}function Pl(e){let t,n,s,l,r,i,c,a,o;return{c(){t=_("img"),s=$(),l=_("h1"),l.textContent="Hampters (:",r=$(),i=_("img"),a=$(),o=_("a"),o.textContent="Gifs from Tenor",Nt(t.src,n="./secret-"+e[3]+".gif")||d(t,"src",n),d(t,"alt","Secret "+e[3]),d(t,"class","svelte-1a1ryww"),Nt(i.src,c="./secret-"+e[4]+".gif")||d(i,"src",c),d(i,"alt","Secret "+e[4]),d(i,"class","svelte-1a1ryww"),d(o,"href","https://tenor.com/search/hampter-gifs"),d(o,"target","_blank"),d(o,"class","ref svelte-1a1ryww")},m(f,h){b(f,t,h),b(f,s,h),b(f,l,h),b(f,r,h),b(f,i,h),b(f,a,h),b(f,o,h)},p:C,d(f){f&&(g(t),g(s),g(l),g(r),g(i),g(a),g(o))}}}function xl(e){let t;function n(r,i){return r[2].secret?Pl:El}let s=n(e),l=s(e);return{c(){t=_("main"),l.c(),d(t,"class","svelte-1a1ryww")},m(r,i){b(r,t,i),l.m(t,null)},p(r,[i]){s===(s=n(r))&&l?l.p(r,i):(l.d(1),l=s(r),l&&(l.c(),l.m(t,null)))},i:C,o:C,d(r){r&&g(t),l.d()}}}const Ee=1e8,Pe=1e4;function Nl(e,t,n){let s,l,r;B(e,ye,f=>n(0,s=f)),B(e,U,f=>n(1,l=f)),B(e,se,f=>n(2,r=f));const i=new Set([1,2,3,4,5,6]),c=i.popRandom(),a=i.popRandom();function o(){l<Ee||s<Pe||(yt(Ee),Nn(Pe),se.update(f=>(f.secret++,f)))}return[s,l,r,c,a,o]}class Fl extends R{constructor(t){super(),V(this,t,Nl,xl,I,{})}}function Al(e){let t,n,s,l,r,i;function c(h){e[3](h)}let a={tabs:e[1]};e[0]!==void 0&&(a.chosen_tab=e[0]),n=new jn({props:a}),ve.push(()=>vn(n,"chosen_tab",c));var o=e[2][e[0]];function f(h,p){return{}}return o&&(r=Je(o,f())),{c(){t=_("main"),Y(n.$$.fragment),l=$(),r&&Y(r.$$.fragment),d(t,"class","svelte-1vllfr7")},m(h,p){b(h,t,p),J(n,t,null),u(t,l),r&&J(r,t,null),i=!0},p(h,[p]){const k={};if(!s&&p&1&&(s=!0,k.chosen_tab=h[0],mn(()=>s=!1)),n.$set(k),p&1&&o!==(o=h[2][h[0]])){if(r){gn();const m=r;X(m.$$.fragment,1,0,()=>{K(m,1)}),bn()}o?(r=Je(o,f()),Y(r.$$.fragment),H(r.$$.fragment,1),J(r,t,null)):r=null}},i(h){i||(H(n.$$.fragment,h),r&&H(r.$$.fragment,h),i=!0)},o(h){X(n.$$.fragment,h),r&&X(r.$$.fragment,h),i=!1},d(h){h&&g(t),K(n),r&&K(r)}}}function jl(e,t,n){let s=["Orbs","Shop","Prestige","Secret"],l=s[0];const r={Orbs:yl,Shop:pl,Prestige:Ol,Secret:Fl};function i(c){l=c,n(0,l)}return[l,s,r,i]}class Bl extends R{constructor(t){super(),V(this,t,jl,Al,I,{})}}function Il(e){let t,n,s,l,r;return n=new Bl({}),l=new hl({}),{c(){t=_("main"),Y(n.$$.fragment),s=$(),Y(l.$$.fragment),d(t,"class","svelte-ehodcn")},m(i,c){b(i,t,c),J(n,t,null),u(t,s),J(l,t,null),r=!0},p:C,i(i){r||(H(n.$$.fragment,i),H(l.$$.fragment,i),r=!0)},o(i){X(n.$$.fragment,i),X(l.$$.fragment,i),r=!1},d(i){i&&g(t),K(n),K(l)}}}class Ll extends R{constructor(t){super(),V(this,t,null,Il,I,{})}}function Ul(e){let t,n,s,l,r,i,c;return n=new Ll({}),l=new Ys({}),{c(){t=_("main"),Y(n.$$.fragment),s=$(),Y(l.$$.fragment),d(t,"class","svelte-1d155v8")},m(a,o){b(a,t,o),J(n,t,null),u(t,s),J(l,t,null),e[2](t),r=!0,i||(c=z(t,"mousemove",e[1]),i=!0)},p:C,i(a){r||(H(n.$$.fragment,a),H(l.$$.fragment,a),r=!0)},o(a){X(n.$$.fragment,a),X(l.$$.fragment,a),r=!1},d(a){a&&g(t),K(n),K(l),e[2](null),i=!1,c()}}}function Dl(e,t,n){let s;_n(()=>{window.onresize(null)}),window.onresize=()=>{let i=1;const c=document.body.clientWidth,a=document.body.clientHeight;c*(1080/1920)>=a?(i=a/1080,window.max_width=!1):(i=c/1920,window.max_width=!0),window.scale=i,n(0,s.style.transform=`translate(-50%, -50%) scale(${i}, ${i})`,s)};function l(i){const[c,a]=[document.body.clientWidth,document.body.clientHeight],o=window.scale;window.max_width?ft.update(f=>(f.x=i.clientX/o,f.y=i.clientY/o-(a-s.clientHeight*o)/2/o,f)):ft.update(f=>(f.x=i.clientX/o,f.y=i.clientY/o,f))}function r(i){ve[i?"unshift":"push"](()=>{s=i,n(0,s)})}return[s,l,r]}class Tl extends R{constructor(t){super(),V(this,t,Dl,Ul,I,{})}}new Tl({target:document.body});
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}